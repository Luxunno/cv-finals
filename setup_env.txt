环境配置步骤（Windows PowerShell，UTF-8）

0) 进入项目根目录（示例）：
   cd D:\develop\works\cv

1) 确认 Python 可用并版本合适（建议 3.10+）：
   python --version

2) 如 PowerShell 禁止执行脚本（Activate.ps1 报错），在当前会话临时放开执行策略：
   Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass

3) 创建并激活虚拟环境（推荐使用项目根目录的 .venv）：
   python -m venv .venv
   .\.venv\Scripts\Activate.ps1
   # 激活后命令行前缀会出现 (.venv)

4) 升级 pip：
   python -m pip install --upgrade pip

5) 安装依赖（推荐使用 requirements.txt）：
   pip install -r requirements.txt

6) 验证环境是否正确（确认使用的是 .venv 的 python）：
   where python
   python -c "import cv2, numpy, gradio; print('ok')"

7) 运行单元测试：
   python -m pytest -q

8) 本地启动 UI（Gradio）：
   python -m app.ui --host 127.0.0.1 --port 7860
   # 浏览器访问 http://127.0.0.1:7860

9) 运行评估（custom 50 张）：
   python scripts\benchmark_custom.py --device cpu --profile balanced
   python scripts\benchmark_custom.py --device cpu --profile fast
   python scripts\benchmark_custom.py --device cpu --profile quality
   # 输出：reports\custom_eval.json

10) 常见问题（快速排查）
   - 终端中文显示乱码：PowerShell 执行（仅影响终端显示）
     chcp 65001
   - 依赖冲突/安装失败：建议先清理 venv 再重建
     deactivate
     rmdir /s /q .venv
     python -m venv .venv
     .\.venv\Scripts\Activate.ps1
     pip install -r requirements.txt

退出虚拟环境：
   deactivate
